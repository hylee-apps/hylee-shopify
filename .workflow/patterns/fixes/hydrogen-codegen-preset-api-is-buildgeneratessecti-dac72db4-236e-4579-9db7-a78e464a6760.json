{
  "id": "dac72db4-236e-4579-9db7-a78e464a6760",
  "name": "hydrogen-codegen preset API is buildGeneratesSection not callable",
  "description": "In @shopify/hydrogen-codegen v0.3.x, the 'preset' export is an object with a 'buildGeneratesSection()' method, NOT a callable function. Using preset({...}) throws 'This expression is not callable - Type OutputPreset has no call signatures'. Fix: use preset.buildGeneratesSection({...}) instead. Additionally, the API version params (storefrontApiVersion, customerAccountApiVersion) may cause type errors â€” exclude .graphqlrc.ts from tsconfig to avoid these.",
  "category": "type-error",
  "tags": [
    {
      "name": "hydrogen",
      "category": "custom"
    },
    {
      "name": "graphql-codegen",
      "category": "tool"
    },
    {
      "name": "not-callable",
      "category": "error-type"
    },
    {
      "name": "ts",
      "category": "file-type"
    }
  ],
  "trigger": {
    "errorPattern": "This expression is not callable.*Type 'OutputPreset.*' has no call signatures",
    "errorMessage": "TS2349 error in .graphqlrc.ts when calling preset() as a function",
    "filePattern": ".graphqlrc.ts"
  },
  "solution": {
    "type": "file-change",
    "steps": [
      {
        "order": 1,
        "action": "modify",
        "target": ".graphqlrc.ts",
        "description": "Change 'preset({storefrontApiVersion: ...})' to 'preset.buildGeneratesSection({storefrontApiVersion: ...})'"
      },
      {
        "order": 2,
        "action": "modify",
        "target": "tsconfig.json",
        "description": "Remove '.graphqlrc.ts' from the 'include' array to prevent type-checking the codegen config file, which has version-specific API mismatches"
      }
    ]
  },
  "compatibility": {
    "framework": "shopify",
    "frameworkVersion": ">=2025.7.0",
    "runtime": "node",
    "runtimeVersion": ">=18.0.0",
    "dependencies": []
  },
  "metrics": {
    "successRate": 100,
    "applications": 1,
    "successes": 1,
    "failures": 0
  },
  "source": "manual",
  "isPrivate": false,
  "createdAt": "2026-02-08T00:00:00.000Z",
  "updatedAt": "2026-02-09T12:54:37.546Z"
}