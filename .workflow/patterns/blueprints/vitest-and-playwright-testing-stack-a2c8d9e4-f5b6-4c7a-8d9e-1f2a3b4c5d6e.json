{
  "id": "a2c8d9e4-f5b6-4c7a-8d9e-1f2a3b4c5d6e",
  "name": "Vitest and Playwright Testing Stack",
  "description": "Unit testing with Vitest (bail mode, jsdom, MSW mocking) and E2E with Playwright (5 browser configs including mobile) for Next.js applications",
  "tags": [
    {
      "name": "vitest",
      "category": "tool"
    },
    {
      "name": "playwright",
      "category": "tool"
    },
    {
      "name": "msw",
      "category": "tool"
    },
    {
      "name": "e2e",
      "category": "testing"
    },
    {
      "name": "unit",
      "category": "testing"
    },
    {
      "name": "next",
      "category": "framework"
    },
    {
      "name": "typescript",
      "category": "language"
    }
  ],
  "stack": {
    "framework": "next",
    "language": "typescript",
    "runtime": "node",
    "packageManager": "pnpm",
    "dependencies": [],
    "devDependencies": [
      {
        "name": "vitest",
        "version": "^1.6.1",
        "compatibleRange": ">=1.0.0"
      },
      {
        "name": "@vitest/ui",
        "version": "^1.6.1",
        "compatibleRange": ">=1.0.0"
      },
      {
        "name": "@vitest/coverage-v8",
        "version": "^1.6.1",
        "compatibleRange": ">=1.0.0"
      },
      {
        "name": "@playwright/test",
        "version": "^1.57.0",
        "compatibleRange": ">=1.40.0"
      },
      {
        "name": "@testing-library/react",
        "version": "^14.3.1",
        "compatibleRange": ">=14.0.0"
      },
      {
        "name": "@testing-library/jest-dom",
        "version": "^6.9.1",
        "compatibleRange": ">=6.0.0"
      },
      {
        "name": "@testing-library/user-event",
        "version": "^14.6.1",
        "compatibleRange": ">=14.0.0"
      },
      {
        "name": "msw",
        "version": "^2.12.4",
        "compatibleRange": ">=2.0.0"
      },
      {
        "name": "jsdom",
        "version": "^24.1.3",
        "compatibleRange": ">=22.0.0"
      }
    ]
  },
  "structure": {
    "directories": [
      {
        "path": "test",
        "purpose": "Test setup and fixtures"
      },
      {
        "path": "lib/mocks",
        "purpose": "MSW handlers and mock database"
      },
      {
        "path": "lib/mocks/handlers",
        "purpose": "API mock handlers by domain"
      },
      {
        "path": "lib/mocks/factories",
        "purpose": "Test data factories"
      },
      {
        "path": "e2e",
        "purpose": "Playwright E2E tests"
      }
    ],
    "keyFiles": [
      {
        "path": "vitest.config.ts",
        "purpose": "Vitest configuration with bail:1"
      },
      {
        "path": "playwright.config.ts",
        "purpose": "Playwright multi-browser config"
      },
      {
        "path": "test/setup.ts",
        "purpose": "Test setup with mocks"
      },
      {
        "path": "test/fixtures.ts",
        "purpose": "Mock data factories"
      },
      {
        "path": "lib/mocks/server.ts",
        "purpose": "MSW server setup"
      },
      {
        "path": "lib/mocks/db.ts",
        "purpose": "In-memory mock database"
      },
      {
        "path": "lib/mocks/browser.ts",
        "purpose": "Browser MSW setup"
      }
    ]
  },
  "setup": {
    "prerequisites": [
      "Node.js >= 18.0.0",
      "pnpm package manager"
    ],
    "steps": [
      {
        "order": 1,
        "command": "pnpm add -D vitest @vitest/ui @vitest/coverage-v8 @playwright/test",
        "description": "Install test frameworks",
        "optional": false
      },
      {
        "order": 2,
        "command": "pnpm add -D @testing-library/react @testing-library/jest-dom @testing-library/user-event",
        "description": "Install Testing Library",
        "optional": false
      },
      {
        "order": 3,
        "command": "pnpm add -D msw jsdom",
        "description": "Install MSW and jsdom",
        "optional": false
      },
      {
        "order": 4,
        "command": "npx playwright install",
        "description": "Install Playwright browsers",
        "optional": false
      },
      {
        "order": 5,
        "command": "mkdir -p test lib/mocks/handlers lib/mocks/factories e2e",
        "description": "Create test directories",
        "optional": false
      }
    ],
    "configs": [
      {
        "file": "vitest.config.ts",
        "content": "import { defineConfig } from 'vitest/config';\nimport path from 'path';\n\nexport default defineConfig({\n  test: {\n    environment: 'jsdom',\n    globals: true,\n    setupFiles: ['./test/setup.ts'],\n    include: ['**/*.test.{ts,tsx}'],\n    exclude: ['node_modules', '.next', 'e2e'],\n    bail: 1,\n  },\n  resolve: {\n    alias: {\n      '@': path.resolve(__dirname, './'),\n      '@test': path.resolve(__dirname, './test'),\n    }\n  }\n});",
        "description": "Vitest with jsdom, bail:1, and path aliases"
      }
    ]
  },
  "compatibility": {
    "framework": "next",
    "frameworkVersion": "^16.0.0",
    "runtime": "node",
    "runtimeVersion": ">=18.0.0",
    "dependencies": []
  },
  "metrics": {
    "successRate": 100,
    "applications": 0,
    "successes": 0,
    "failures": 0
  },
  "relatedPatterns": [],
  "isPrivate": false,
  "createdAt": "2026-01-22T23:00:00.000Z",
  "updatedAt": "2026-01-22T23:00:00.000Z"
}