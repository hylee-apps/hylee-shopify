{% comment %}
  Hero Carousel Section
  Customizable in theme editor
{% endcomment %}

<section class="hero-carousel" id="hero-{{ section.id }}">
  <div class="hero-carousel__container">
    
    {%- for block in section.blocks -%}
      <div class="hero-carousel__slide" data-slide-index="{{ forloop.index0 }}" {{ block.shopify_attributes }}>
        <div class="hero-carousel__bg-gradient"></div>
        
        {%- comment -%} Background text {%- endcomment -%}
        <div class="hero-carousel__bg-text">temp image</div>
        
        <div class="hero-carousel__content">
          <div class="hero-carousel__text">
            {% if block.settings.heading != blank %}
              <h2 class="hero-carousel__heading">{{ block.settings.heading }}</h2>
            {% endif %}

            {% if block.settings.subheading != blank %}
              <p class="hero-carousel__subheading">{{ block.settings.subheading }}</p>
            {% endif %}

            {% if block.settings.button_label != blank %}
              <a href="{{ block.settings.button_link | default: '/collections/all' }}" class="hero-carousel__cta">
                {{ block.settings.button_label }}
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
              </a>
            {% endif %}
          </div>
        </div>
      </div>
    {%- endfor -%}

    {%- comment -%} Carousel Indicators {%- endcomment -%}
    <div class="hero-carousel__indicators">
      {%- for block in section.blocks -%}
        <button 
          class="hero-carousel__indicator" 
          data-slide="{{ forloop.index0 }}"
          aria-label="Go to slide {{ forloop.index }}"
        ></button>
      {%- endfor -%}
    </div>

  </div>
</section>

<style>
#hero-{{ section.id }} {
  position: relative;
  width: 100%;
  height: 500px;
  overflow: hidden;
}

#hero-{{ section.id }} .hero-carousel__container {
  position: relative;
  width: 100%;
  height: 100%;
}

#hero-{{ section.id }} .hero-carousel__slide {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 1s;
  pointer-events: none;
}

#hero-{{ section.id }} .hero-carousel__slide.active {
  opacity: 1;
  pointer-events: auto;
}

#hero-{{ section.id }} .hero-carousel__bg-gradient {
  position: absolute;
  inset: 0;
  background: linear-gradient(to right, #059669, #047857);
  z-index: 0;
}

#hero-{{ section.id }} .hero-carousel__bg-text {
  position: absolute;
  top: 50%;
  right: 5%;
  transform: translateY(-50%);
  font-size: 10rem;
  font-weight: 700;
  color: rgba(255, 255, 255, 0.1);
  letter-spacing: -0.05em;
  line-height: 1;
  pointer-events: none;
  z-index: 1;
  white-space: nowrap;
}

#hero-{{ section.id }} .hero-carousel__content {
  position: relative;
  z-index: 10;
  height: 100%;
  max-width: 1280px;
  margin: 0 auto;
  padding: 0 1.5rem;
  display: flex;
  align-items: center;
}

#hero-{{ section.id }} .hero-carousel__text {
  max-width: 48rem;
  color: white;
}

#hero-{{ section.id }} .hero-carousel__heading {
  margin: 0 0 1rem 0;
  font-size: 3rem;
  font-weight: 400;
  line-height: 1.2;
  color: white;
  letter-spacing: -0.025em;
}

#hero-{{ section.id }} .hero-carousel__subheading {
  margin: 0 0 2rem 0;
  font-size: 1.25rem;
  font-weight: 400;
  color: rgba(255, 255, 255, 0.9);
  line-height: 1.6;
}

#hero-{{ section.id }} .hero-carousel__cta {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.875rem 2rem;
  background: white;
  color: #0f172a;
  border-radius: 0.75rem;
  font-weight: 500;
  font-size: 1rem;
  text-decoration: none;
  transition: all 0.2s;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

#hero-{{ section.id }} .hero-carousel__cta:hover {
  background: #f1f5f9;
  transform: translateY(-2px);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
}

#hero-{{ section.id }} .hero-carousel__indicators {
  position: absolute;
  bottom: 1.5rem;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 0.5rem;
  z-index: 20;
}

#hero-{{ section.id }} .hero-carousel__indicator {
  width: 0.5rem;
  height: 0.5rem;
  border-radius: 9999px;
  background: rgba(255, 255, 255, 0.5);
  border: none;
  cursor: pointer;
  transition: all 0.3s;
  padding: 0;
}

#hero-{{ section.id }} .hero-carousel__indicator.active {
  background: white;
  width: 2rem;
}

@media (max-width: 768px) {
  #hero-{{ section.id }} .hero-carousel__heading {
    font-size: 2rem;
  }
  
  #hero-{{ section.id }} .hero-carousel__bg-text {
    font-size: 5rem;
  }
}
</style>

<script>
(function() {
  const carousel = document.querySelector('#hero-{{ section.id }} .hero-carousel__container');
  if (!carousel) return;
  
  const slides = carousel.querySelectorAll('.hero-carousel__slide');
  const indicators = carousel.querySelectorAll('.hero-carousel__indicator');
  let currentSlide = 0;
  
  function showSlide(index) {
    slides.forEach((slide, i) => {
      slide.classList.toggle('active', i === index);
    });
    indicators.forEach((indicator, i) => {
      indicator.classList.toggle('active', i === index);
    });
  }
  
  function nextSlide() {
    currentSlide = (currentSlide + 1) % slides.length;
    showSlide(currentSlide);
  }
  
  indicators.forEach((indicator, index) => {
    indicator.addEventListener('click', () => {
      currentSlide = index;
      showSlide(currentSlide);
    });
  });
  
  showSlide(0);
  setInterval(nextSlide, 5000);
})();
</script>

{% schema %}
{
  "name": "Hero Carousel",
  "max_blocks": 5,
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Excepteur Sint Occaecat"
        },
        {
          "type": "textarea",
          "id": "subheading",
          "label": "Subheading",
          "default": "Cupidatat non proident sunt in culpa qui officia deserunt"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button Label",
          "default": "Learn More"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    }
  ],
  "settings": [],
  "presets": [
    {
      "name": "Hero Carousel",
      "blocks": [
        {
          "type": "slide",
          "settings": {
            "heading": "Lorem Ipsum Dolor Sit Amet",
            "subheading": "Consectetur adipiscing elit sed do eiusmod tempor incididunt",
            "button_label": "Shop Now"
          }
        },
        {
          "type": "slide",
          "settings": {
            "heading": "Ut Labore Et Dolore Magna",
            "subheading": "Quis nostrud exercitation ullamco laboris nisi ut aliquip",
            "button_label": "Explore Collection"
          }
        },
        {
          "type": "slide",
          "settings": {
            "heading": "Excepteur Sint Occaecat",
            "subheading": "Cupidatat non proident sunt in culpa qui officia deserunt",
            "button_label": "Learn More"
          }
        }
      ]
    }
  ]
}
{% endschema %}
