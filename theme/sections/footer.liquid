{{ 'section-footer.css' | asset_url | stylesheet_tag }}

{% liquid
  assign variant = section.settings.variant
  assign show_brand = section.settings.show_brand
%}

<footer class='footer{% if variant == 'minimal' %} footer--minimal{% endif %}'>
  <div class='footer__inner'>
    {%- if variant == 'minimal' -%}
      {%- comment -%} Minimal Footer Layout {%- endcomment -%}
      <p class='footer__copyright'>
        © {{ 'now' | date: '%Y' }}
        {{ shop.name }}. {{ 'footer.all_rights_reserved' | t }}
      </p>

      <ul class='footer__links'>
        {%- for link in linklists[section.settings.minimal_menu].links -%}
          <li>
            <a href='{{ link.url }}' class='footer__link'>
              {{ link.title }}
            </a>
          </li>
        {%- endfor -%}
      </ul>
    {%- else -%}
      {%- comment -%} Default Footer Layout {%- endcomment -%}
      <div class='footer__grid'>
        {%- if show_brand -%}
          <div class='footer__brand'>
            <div class='footer__logo'>
              {%- comment -%} Desktop Logo (hidden on mobile) - using retina image {%- endcomment -%}
              <img
                src='{{ 'logo-4096.png' | asset_url }}'
                alt='{{ shop.name }}'
                class='footer__logo-image footer__logo-image--desktop'
                width='auto'
                height='36'
                loading='lazy'
              >
              {%- comment -%} Mobile Logo (hidden on desktop) - using retina image {%- endcomment -%}
              <img
                src='{{ 'logo-4096.png' | asset_url }}'
                alt='{{ shop.name }}'
                class='footer__logo-image footer__logo-image--mobile'
                width='auto'
                height='28'
                loading='lazy'
              >
            </div>
            {% if section.settings.description != blank %}
              <p class='footer__description'>{{ section.settings.description }}</p>
            {% endif %}
          </div>
        {%- endif -%}

        {%- for block in section.blocks -%}
          {%- case block.type -%}
            {%- when 'link_list' -%}
              <div class='footer__column' {{ block.shopify_attributes }}>
                {%- if block.settings.heading != blank -%}
                  <h4 class='footer__column-title'>{{ block.settings.heading }}</h4>
                {%- endif -%}

                {%- if linklists[block.settings.menu].links.size > 0 -%}
                  <ul class='footer__links'>
                    {%- for link in linklists[block.settings.menu].links -%}
                      <li>
                        <a href='{{ link.url }}' class='footer__link'>
                          {{ link.title }}
                        </a>
                      </li>
                    {%- endfor -%}
                  </ul>
                {%- else -%}
                  {%- comment -%} Fallback links if menu not configured {%- endcomment -%}
                  <ul class='footer__links'>
                    {%- if block.settings.heading == 'Products' -%}
                      <li>
                        <a href='/collections/electronics' class='footer__link'>Electronics</a>
                      </li>
                      <li><a href='/collections/fashion' class='footer__link'>Fashion</a></li>
                      <li>
                        <a href='/collections/home-living' class='footer__link'>Home & Living</a>
                      </li>
                      <li><a href='/collections/all' class='footer__link'>All Categories</a></li>
                    {%- elsif block.settings.heading == 'Company' -%}
                      <li><a href='/pages/about-us' class='footer__link'>About Us</a></li>
                      <li><a href='/pages/contact' class='footer__link'>Contact</a></li>
                      <li><a href='/pages/careers' class='footer__link'>Careers</a></li>
                      <li><a href='/blogs/news' class='footer__link'>Blog</a></li>
                    {%- elsif block.settings.heading == 'Support' -%}
                      <li><a href='/pages/help-center' class='footer__link'>Help Center</a></li>
                      <li><a href='/pages/shipping-info' class='footer__link'>Shipping Info</a></li>
                      <li><a href='/pages/returns' class='footer__link'>Returns</a></li>
                      <li>
                        <a href='/pages/terms-conditions' class='footer__link'
                          >Terms & Conditions</a
                        >
                      </li>
                    {%- endif -%}
                  </ul>
                {%- endif -%}
              </div>

            {%- when 'text' -%}
              <div class='footer__column' {{ block.shopify_attributes }}>
                {%- if block.settings.heading != blank -%}
                  <h4 class='footer__column-title'>{{ block.settings.heading }}</h4>
                {%- endif -%}
                {%- if block.settings.content != blank -%}
                  <div class='footer__description'>{{ block.settings.content }}</div>
                {%- endif -%}
              </div>
          {%- endcase -%}
        {%- endfor -%}
      </div>

      <div class='footer__bottom'>
        <p>
          © {{ 'now' | date: '%Y' }}
          {{ shop.name }}.
          {% if section.settings.copyright_text != blank %}
            {{ section.settings.copyright_text }}
          {% else %}
            {{ 'footer.all_rights_reserved' | t }}
          {% endif %}
        </p>
      </div>
    {%- endif -%}
  </div>
</footer>

{% schema %}
{
  "name": "Footer",
  "class": "section-footer",
  "settings": [
    {
      "type": "select",
      "id": "variant",
      "label": "Footer Style",
      "options": [
        {
          "value": "default",
          "label": "Default"
        },
        {
          "value": "minimal",
          "label": "Minimal"
        }
      ],
      "default": "default"
    },
    {
      "type": "header",
      "content": "Brand Section"
    },
    {
      "type": "checkbox",
      "id": "show_brand",
      "label": "Show Brand Section",
      "default": true
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo Image"
    },
    {
      "type": "text",
      "id": "logo_text",
      "label": "Logo Text",
      "default": "Hylee"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Premium wholesale marketplace for small businesses worldwide"
    },
    {
      "type": "header",
      "content": "Minimal Footer"
    },
    {
      "type": "link_list",
      "id": "minimal_menu",
      "label": "Minimal Footer Menu",
      "info": "Used when Footer Style is set to Minimal"
    },
    {
      "type": "header",
      "content": "Copyright"
    },
    {
      "type": "text",
      "id": "copyright_text",
      "label": "Copyright Text",
      "default": "All rights reserved."
    }
  ],
  "blocks": [
    {
      "type": "link_list",
      "name": "Link List",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Quick Links"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu",
          "default": "footer"
        }
      ]
    },
    {
      "type": "text",
      "name": "Text Block",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content"
        }
      ]
    }
  ],
  "default": {
    "settings": {
      "variant": "default"
    },
    "blocks": [
      {
        "type": "link_list",
        "settings": {
          "heading": "Products",
          "menu": "footer"
        }
      },
      {
        "type": "link_list",
        "settings": {
          "heading": "Company",
          "menu": "footer"
        }
      },
      {
        "type": "link_list",
        "settings": {
          "heading": "Support",
          "menu": "footer"
        }
      }
    ]
  }
}
{% endschema %}
