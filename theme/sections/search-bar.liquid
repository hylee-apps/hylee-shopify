{% comment %}
  Search Bar Section
  Customizable in theme editor
{% endcomment %}

{{ 'component-search-input.css' | asset_url | stylesheet_tag }}

<section class='search-bar-section' id='search-{{ section.id }}'>
  <div class='search-bar-section__container'>
    {% if section.settings.heading != blank %}
      <h3 class='search-bar-section__heading'>{{ section.settings.heading }}</h3>
    {% endif %}

    <div class='search-bar-section__form-wrapper'>
      {%
        render 'search-input',
        size: 'default',
        color_scheme: 'default',
        width: 'full',
        show_button: true,
        button_text: section.settings.button_text | default: 'Search',
        placeholder: section.settings.placeholder | default: 'Search thousands of products...',
        value: search.terms,
        id: 'search-bar-form'
      %}
    </div>
  </div>
</section>

<style>
  #search-{{ section.id }} {
    padding: 3rem 1.5rem;
    background: {{ section.settings.background_color | default: '#ffffff' }};
    border-bottom: 1px solid rgba(226, 232, 240, 0.6);
  }

  #search-{{ section.id }} .search-bar-section__container {
    max-width: 56rem;
    margin: 0 auto;
  }

  #search-{{ section.id }} .search-bar-section__heading {
    text-align: center;
    margin: 0 0 1.5rem 0;
    color: {{ section.settings.heading_color | default: '#0f172a' }};
    font-size: 1.125rem;
    font-weight: 400;
    line-height: 1.5;
  }

  #search-{{ section.id }} .search-bar-section__form-wrapper {
    width: 100%;
  }

  /* Custom button colors for this section */
  #search-{{ section.id }} .search-input__button {
    --search-button-bg: {{ section.settings.button_border_color | default: '#2AC864' }};
    --search-button-hover-bg: {{ section.settings.button_border_color | default: '#2AC864' }};
    --search-button-color: #ffffff;
    background: var(--search-button-bg);
    color: var(--search-button-color);
  }

  @media (max-width: 768px) {
    #search-{{ section.id }} {
      padding: 2rem 1rem;
    }
  }
</style>

{% schema %}
{
  "name": "Search Bar",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Find the perfect products for your business"
    },
    {
      "type": "text",
      "id": "placeholder",
      "label": "Search Placeholder",
      "default": "Search thousands of products..."
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Search"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#0f172a"
    },
    {
      "type": "color",
      "id": "button_border_color",
      "label": "Button Border Color",
      "default": "#2AC864"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#2AC864"
    }
  ],
  "presets": [
    {
      "name": "Search Bar"
    }
  ]
}
{% endschema %}
