{% comment %}
  Accordion Component

  Usage:
  {% render 'accordion',
    title: 'Section Title',
    content: 'Content here or use capture',
    id: 'unique-id',
    open: false,
    icon: true
  %}

  Parameters:
  - title: string (required) - The accordion header text
  - content: string (required) - The expandable content
  - id: string (required) - Unique identifier for the accordion
  - open: boolean (default: false) - Whether accordion starts expanded
  - icon: boolean (default: true) - Show chevron icon
  - class: string - Additional CSS classes
{% endcomment %}

{%- liquid
  assign accordion_id = id | default: 'accordion-1'
  assign is_open = open | default: false
  assign show_icon = icon | default: true
  assign extra_class = class | default: ''
-%}

<div class='accordion {{ extra_class }}' data-accordion>
  <button
    type='button'
    class='accordion__trigger'
    id='{{ accordion_id }}-trigger'
    aria-expanded='{{ is_open }}'
    aria-controls='{{ accordion_id }}-content'
    data-accordion-trigger
  >
    <span class='accordion__title'>{{ title }}</span>
    {% if show_icon %}
      <svg
        class='accordion__icon {% if is_open %}accordion__icon--open{% endif %}'
        width='20'
        height='20'
        viewBox='0 0 24 24'
        fill='none'
        stroke='currentColor'
        stroke-width='2'
        aria-hidden='true'
      >
        <polyline points="6 9 12 15 18 9"></polyline>
      </svg>
    {% endif %}
  </button>
  <div
    class='accordion__content {% if is_open %}accordion__content--open{% endif %}'
    id='{{ accordion_id }}-content'
    role='region'
    aria-labelledby='{{ accordion_id }}-trigger'
    {% unless is_open %}
      hidden
    {% endunless %}
    data-accordion-content
  >
    <div class='accordion__body'>
      {{ content }}
    </div>
  </div>
</div>
