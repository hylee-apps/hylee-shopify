{% comment %}
  Customer Settings Page Template
  Login & Security settings

  ┌─────────────────────────────────────────────────────────────────────────┐
  │  REQUIRED SETUP - This page must be created in Shopify Admin!          │
  │                                                                          │
  │  1. Go to Shopify Admin → Online Store → Pages                          │
  │  2. Click "Add page"                                                     │
  │  3. Title: "Settings" (or "Login & Security")                           │
  │  4. Under SEO, set Handle to: settings                                  │
  │  5. Under Template, select: page.settings                               │
  │  6. Click Save                                                           │
  │                                                                          │
  │  The page will then be accessible at: /pages/settings                   │
  └─────────────────────────────────────────────────────────────────────────┘
{% endcomment %}

{% layout 'theme' %}

{%- comment -%} Require customer login {%- endcomment -%}
{%- unless customer -%}
  <script>
    window.location.href =
      '{{ routes.account_login_url }}?return_url={{ request.path | url_encode }}';
  </script>
  <div style='min-height: 50vh; display: flex; align-items: center; justify-content: center;'>
    <p>Redirecting to login...</p>
  </div>
{%- else -%}
  {% section 'customer-settings' %}
{%- endunless -%}
